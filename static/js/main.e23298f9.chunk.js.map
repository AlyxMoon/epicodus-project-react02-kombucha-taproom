{"version":3,"sources":["lib/waitFor.js","components/ProductListItem.jsx","components/ProductList.jsx","views/Home.jsx","views/ProductsCreate.jsx","views/ProductsDetails.jsx","views/ProductsList.jsx","views/index.js","lib/api.js","components/Navbar.jsx","App.jsx","index.js"],"names":["waitFor","timeInMs","Promise","resolve","window","setTimeout","ProductListItem","product","seeProductDetails","removeProduct","useState","removingItem","setRemovingItem","handleRemove","event","a","preventDefault","id","className","name","brand","price","flavor","pints","href","onClick","disabled","description","ProductList","products","intro","map","PageHome","featuredProducts","PageProductsCreate","createProduct","uuid","setProduct","onSubmit","label","type","field","required","value","onChange","target","property","parseInt","defaultProps","console","log","PageProductsDetails","updateProduct","Math","max","PageProductsList","i","views","_PageHome","_PageProductsCreate","_PageProductsDetails","defaultProducts","getProducts","localStorage","getItem","JSON","parse","updateProducts","setItem","stringify","Navbar","activePage","changePage","links","text","url","index","handler","link","page","App","setPage","setState","min","length","activeProduct","activeProductIndex","state","findIndex","addProduct","api","updateActiveProduct","slice","this","ActiveView","filter","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e23298f9.chunk.js","sourcesContent":["\nconst waitFor = (timeInMs = 1000) => new Promise(resolve => {\n  window.setTimeout(resolve, timeInMs)\n})\n\nexport default waitFor\n","import { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nimport waitFor from '../lib/waitFor'\n\nconst ProductListItem = ({ product, seeProductDetails, removeProduct }) => {\n  const [removingItem, setRemovingItem] = useState(false)\n\n  const handleLinkClick = (event) => {\n    event.preventDefault()\n    seeProductDetails(product.id)\n  }\n\n  const handleRemove = async (event) => {\n    event.preventDefault()\n    setRemovingItem(true)\n\n    await waitFor(2100)\n\n    removeProduct(product.id)\n    setRemovingItem(false)\n  }\n\n  return (\n    <article className={removingItem ? 'removing' : ''}>\n      <div className=\"name-box\">\n        <h4>{product.name}</h4>\n        <p>{product.brand}</p>\n      </div>\n\n      <div className=\"summary-box\">\n        <dl>\n          <dt>Price</dt>\n          <dd>${product.price}</dd>\n\n          <dt>Flavor</dt>\n          <dd>{product.flavor}</dd>\n\n          <dt>Pints Left</dt>\n          <dd>{product.pints}</dd>\n        </dl>\n        <a \n          href={`/products/${product.id}`}\n          className=\"btn btn-primary\"\n          onClick={handleLinkClick}\n        >\n          See Details\n        </a>\n        <a\n          href={`/products/${product.id}/delete`}\n          className=\"btn btn-danger\"\n          onClick={handleRemove}\n          disabled={removingItem}\n        >\n          Remove Keg\n        </a>\n      </div>\n\n      <div className=\"details-box\">\n        <p>{product.description}</p>\n      </div>\n    </article>\n  )\n}\n\nProductListItem.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    brand: PropTypes.string,\n    price: PropTypes.number,\n    flavor: PropTypes.string,\n    description: PropTypes.string,\n    pints: PropTypes.number,\n  })),\n  seeProductDetails: PropTypes.func,\n  removeProduct: PropTypes.func,\n}\n\nexport default ProductListItem\n","import PropTypes from 'prop-types'\n\nimport './ProductList.scss'\nimport ProductListItem from './ProductListItem'\n\nconst ProductList = ({ products, seeProductDetails, removeProduct, intro }) => {\n  return (\n    <section className=\"featured-products-list\">\n      {intro && (<h3>{intro}</h3>)}\n\n      {products.map((product) => (\n        <ProductListItem \n          key={product.id}\n          product={product} \n          seeProductDetails={seeProductDetails}\n          removeProduct={removeProduct}\n        />\n      ))}\n    </section>\n  )\n}\n\nProductList.propTypes = {\n  intro: PropTypes.string,\n  products: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    brand: PropTypes.string,\n    price: PropTypes.number,\n    flavor: PropTypes.string,\n    description: PropTypes.string,\n    pints: PropTypes.number,\n  })),\n  seeProductDetails: PropTypes.func,\n  removeProduct: PropTypes.func,\n}\n\nexport default ProductList\n","import { Fragment } from 'react'\nimport PropTypes from 'prop-types'\n\nimport ProductList from '../components/ProductList'\n\nconst PageHome = ({ featuredProducts, seeProductDetails, removeProduct }) => {\n  return (\n    <Fragment>\n      <h2>Welcome to the taproom!</h2>\n\n      <p>Feeling down? Feeling thirsty? Feeling bored? All good reasons to have a cold glass of kombucha. Check out the product list for our full offerings!</p>\n\n      <hr />\n\n      <ProductList\n        intro=\"Wow! These kegs sure are popular. Be sure to get some before they run out!\"\n        products={featuredProducts} \n        seeProductDetails={seeProductDetails}\n        removeProduct={removeProduct}\n      />\n    </Fragment>\n  )\n}\n\nPageHome.propTypes = {\n  featuredProducts: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    brand: PropTypes.string,\n    price: PropTypes.number,\n    flavor: PropTypes.string,\n    description: PropTypes.string,\n    pints: PropTypes.number,\n  })),\n  seeProductDetails: PropTypes.func,\n  removeProduct: PropTypes.func,\n}\n\nexport default PageHome\n","import { Fragment, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { v4 as uuid } from 'uuid'\n\nconst PageProductsCreate = ({ \n  createProduct,\n}) => {\n  const [product, setProduct] = useState({\n    id: uuid(),\n    name: '',\n    brand: '',\n    price: '',\n    flavor: '',\n    description: '',\n    pints: 120,\n  })\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    createProduct(product)\n  }\n\n  const handleUpdate = (value, property) => {\n    setProduct({\n      ...product,\n      [property]: property === 'price' ? parseInt(value) : value,\n    })\n  }\n\n  const productFields = [\n    { name: 'name', label: 'Name', type: 'text' },\n    { name: 'brand', label: 'Brand', type: 'text' },\n    { name: 'price', label: 'Price', type: 'number' },\n    { name: 'flavor', label: 'Flavor', type: 'text' },\n    { name: 'description', label: 'Description', type: 'text' },\n  ]\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h1>Product Create</h1>\n\n      {productFields.map(field => (\n        <Fragment key={field.name}>\n          <label>\n            {field.label}\n          </label>\n          <input\n            required\n            type={field.type}\n            value={product[field.name]}\n            onChange={(event) => handleUpdate(event.target.value, field.name)}\n          />\n        </Fragment>\n      ))}\n\n\n      <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n    </form>\n  )\n}\n\nPageProductsCreate.propTypes = {\n  createProduct: PropTypes.func,\n}\n\nPageProductsCreate.defaultProps = {\n  createProduct: (product) => {\n    console.log('test submit product:', product)\n  },\n}\n\nexport default PageProductsCreate\n","import PropTypes from 'prop-types'\n\nconst PageProductsDetails = ({ product, updateProduct }) => {\n\n  const handleBuyPint = () => {\n    updateProduct({\n      ...product,\n      pints: Math.max(0, product.pints - 1),\n    })\n  }\n\n  return (\n    <section className=\"product-details-page\">\n      <h2>{product.name}</h2>\n\n      <h5>By: {product.brand}</h5>\n\n      <dl>\n        <dt>Price</dt>\n        <dd>${product.price}</dd>\n\n        <dt>Flavor</dt>\n        <dd>{product.flavor}</dd>\n\n        <dt>Pints Left</dt>\n        <dd>{product.pints || 'Out of Stock'}</dd>\n      </dl>\n\n      <p>{product.description}</p>\n\n      <div>\n        <button \n          className=\"btn btn-primary\"\n          onClick={handleBuyPint}\n          disabled={product.pints <= 0}\n        >Buy a Pint</button>\n      </div>\n    </section>\n  )\n}\n\nPageProductsDetails.propTypes = {\n  product: PropTypes.shape({\n    name: PropTypes.string,\n    brand: PropTypes.string,\n    price: PropTypes.number,\n    flavor: PropTypes.string,\n    description: PropTypes.string,\n    pints: PropTypes.number,\n  }).isRequired,\n  updateProduct: PropTypes.func,\n}\n\nPageProductsDetails.defaultProps = {\n  updateProduct: (product) => {\n    console.log('test update product:', product)\n  },\n}\n\nexport default PageProductsDetails\n","import PropTypes from 'prop-types'\n\nimport ProductList from '../components/ProductList'\n\nconst PageProductsList = ({ products, seeProductDetails, removeProduct }) => {\n  return (\n    <>\n      <h1>Product List</h1>\n\n      <ProductList \n        intro=\"We have a lot of great offerings, check it out!\"\n        products={products}\n        seeProductDetails={seeProductDetails}\n        removeProduct={removeProduct}\n      />\n    </>\n  )\n}\n\nPageProductsList.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    brand: PropTypes.string,\n    price: PropTypes.number,\n    flavor: PropTypes.string,\n    description: PropTypes.string,\n    pints: PropTypes.number,\n  })),\n  seeProductDetails: PropTypes.func,\n  removeProduct: PropTypes.func,\n}\n\nPageProductsList.defaultProps = {\n  products: [],\n  seeProductDetails: (i) => {\n    console.log('test see product details:', i)\n  },\n}\n\nexport default PageProductsList\n","import _PageHome from './Home'\nimport _PageProductsCreate from './ProductsCreate'\nimport _PageProductsDetails from './ProductsDetails'\nimport _PageProductsList from './ProductsList'\n\nconst views = [\n  _PageHome,\n  _PageProductsCreate,\n  _PageProductsDetails,\n  _PageProductsList,\n]\n\nexport default views\nexport const PageHome = _PageHome\nexport const PageProductsCreate = _PageProductsCreate\nexport const PageProductsDetails = _PageProductsDetails\nexport const PageProductsList = _PageProductsList\n\nexport const PAGE_HOME = 0\nexport const PAGE_PRODUCTS_CREATE = 1\nexport const PAGE_PRODUCTS_DETAILS = 2\nexport const PAGE_PRODUCTS_LIST = 3\n","import { v4 as uuid } from 'uuid'\n\nconst defaultProducts = [\n  {\n    id: uuid(),\n    name: 'Health-Ade',\n    brand: 'Health-Right',\n    price: 6,\n    pints: 90,\n    flavor: 'ginger, lemon',\n    description: 'Ready for a delicious and healthy taste bud experience? Get health-ade!',\n  },\n  {\n    id: uuid(),\n    name: 'Strawberry Yum',\n    brand: 'Health-Right',\n    price: 8,\n    pints: 8,\n    flavor: 'strawberry, basil',\n    description: 'Our seasonal classic. Fresh organic strawberries combined with fresh herbs combine to make a treat that everyone can enjoy. Get a glass while supplies last!',\n  },\n  {\n    id: uuid(),\n    name: 'Rowdy Earth',\n    brand: 'Rough Tongue Tonics',\n    price: 5,\n    pints: 110,\n    flavor: 'molasses, pumpkin',\n    description: 'Two flavors you don\\'t typically see together. But you aren\\'t typical. You\\'re tough, and you need a drink to match. With fresh, strong ingredients from the earth, this drink will revitalize you and give you the energy you need to keep on trucking.',\n  },\n  {\n    id: uuid(),\n    name: 'Tea You In Hell',\n    brand: 'Rough Tongue Tonics',\n    price: 9,\n    pints: 14,\n    flavor: 'green tea, jalapeno',\n    description: 'You would wish this drink on your greatest friend, because it\\'ll see you through thick and thin. When the times are tough and you need some tough love back, throw back a glass Tea You In Hell and get your act together.',\n  },\n  {\n    id: uuid(),\n    name: 'Blueberry Lemon',\n    brand: 'Simple',\n    price: 3,\n    pints: 3,\n    flavor: 'lemon, blueberry',\n    description: 'We don\\'t believe in wasting time with slogans. We make kombucha, enjoy.',\n  },\n  {\n    id: uuid(),\n    name: 'Apple Cinammon',\n    brand: 'Simple',\n    price: 3,\n    pints: 20,\n    flavor: 'apple, cinnamon',\n    description: 'We don\\'t believe in wasting time with slogans. We make kombucha, enjoy.',\n  },\n]\n\nexport const getProducts = async () => {\n  const products = window.localStorage.getItem('r2-kombucha-products')\n\n  return products ? JSON.parse(products) : defaultProducts\n}\n\nexport const updateProducts = async (products = []) => {\n  window.localStorage.setItem('r2-kombucha-products', JSON.stringify(products))\n  return products\n}","import PropTypes from 'prop-types'\n\nimport {\n  PAGE_HOME,\n  PAGE_PRODUCTS_CREATE,\n  PAGE_PRODUCTS_LIST,\n} from '../views'\n\nconst Navbar = ({ activePage, changePage }) => {\n  const links = [\n    { \n      text: 'Home', \n      url: '/',\n      index: PAGE_HOME,\n      handler: (event) => {\n        event.preventDefault()\n        changePage(PAGE_HOME) \n      },\n    },\n    { \n      text: 'Product List', \n      url: '/products',\n      index: PAGE_PRODUCTS_LIST,\n      handler: (event) => {\n        event.preventDefault()\n        changePage(PAGE_PRODUCTS_LIST) \n      },\n    },\n    { \n      text: 'Create Product',\n      url: '/products/create',\n      index: PAGE_PRODUCTS_CREATE,\n      handler: (event) => {\n        event.preventDefault()\n        changePage(PAGE_PRODUCTS_CREATE) \n      },\n    },\n  ]\n\n  return (\n    <nav>\n      <div className=\"container\">\n        <h1>Kombucha Taproom</h1>\n\n        <ul>\n        {links.map((link) => (\n          <li key={link.index}>\n            <a \n              className={`nav-link ${activePage === link.index ? 'active' : ''}`}\n              href={link.url}\n              onClick={link.handler}\n            >\n              {link.text}\n            </a>\n          </li>\n        ))}\n        </ul>\n      </div>\n    </nav>\n  )\n}\n\nNavbar.propTypes = {\n  activePage: PropTypes.number,\n  changePage: PropTypes.func,\n}\n\nNavbar.defaultProps = {\n  activePage: -1,\n  changePage: (page) => {\n    console.log('test change page:', page)\n  },\n}\n\nexport default Navbar\n\n","import { Component } from 'react'\n\nimport views, { PAGE_PRODUCTS_DETAILS, PAGE_PRODUCTS_LIST } from './views'\nimport * as api from './lib/api'\n\nimport Navbar from './components/Navbar'\n\nclass App extends Component {\n  constructor () {\n    super()\n\n    this.state = {\n      activePage: 0,\n      activeProduct: {},\n      activeProductIndex: -1,\n      products: [],\n    }\n  }\n\n  async componentDidMount () {\n    const products = await api.getProducts()\n    this.setState({\n      products,\n    })\n  }\n\n  setPage = (page) => {\n    this.setState({\n      activePage: Math.max(0, Math.min(page, views.length - 1)),\n      activeProduct: {},\n      activeProductIndex: -1,\n    })\n  }\n\n  seeProductDetails = (id) => {\n    const index = this.state.products.findIndex(product => product.id === id)\n\n    this.setState({\n      activePage: PAGE_PRODUCTS_DETAILS,\n      activeProduct: index === -1 ? {} : this.state.products[index],\n      activeProductIndex: index,\n    })\n  }\n\n  addProduct = (product) => {\n    this.setState({\n      products: [\n        ...this.state.products,\n        product,\n      ],\n      activePage: PAGE_PRODUCTS_LIST,\n    }, () => {\n      api.updateProducts(this.state.products)\n      console.log('product list updated', this.state.products)\n    })\n  }\n\n  updateActiveProduct = (product) => {\n    this.setState({\n      activeProduct: product,\n      products: [\n        ...this.state.products.slice(0, this.state.activeProductIndex),\n        product,\n        ...this.state.products.slice(this.state.activeProductIndex + 1),\n      ],\n    }, () => {\n      api.updateProducts(this.state.products)\n    })\n  }\n\n  removeProduct = (id) => {\n    const index = this.state.products.findIndex(product => product.id === id)\n    if (index < 0) return\n\n    this.setState({\n      activeProduct: {},\n      products: [\n        ...this.state.products.slice(0, index),\n        ...this.state.products.slice(index + 1),\n      ],\n      activePage: this.state.activePage === PAGE_PRODUCTS_DETAILS\n        ? PAGE_PRODUCTS_LIST\n        : this.state.activePage,\n    }, () => {\n      api.updateProducts(this.state.products)\n    })\n  }\n\n  render () {\n    const ActiveView = views[this.state.activePage]\n\n    const featuredProducts = this.state.products.filter(product => {\n      return product.pints > 0 && product.pints < 15\n    })\n\n    return (\n      <div className=\"app\">\n        <Navbar \n          activePage={this.state.activePage}\n          changePage={this.setPage}\n        />\n\n        <main>\n          <ActiveView \n            createProduct={this.addProduct}\n            updateProduct={this.updateActiveProduct}\n            removeProduct={this.removeProduct}\n            products={this.state.products}\n            featuredProducts={featuredProducts}\n            product={this.state.activeProduct}\n            seeProductDetails={this.seeProductDetails}\n          />\n        </main>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './styles/main.scss'\n\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}